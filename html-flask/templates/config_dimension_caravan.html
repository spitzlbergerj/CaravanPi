<!DOCTYPE html>
<html>
<head>
    <title>CaravanPi Caravan Dimensionen</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/caravanpi.css') }}">
</head>
<body>
    <div class="container">
        <div class="hamburger-menu" onclick="toggleHamburgerMenu()">
            <div></div>
            <div></div>
            <div></div>
        </div>

        <div id="hamburgerMenu" class="hamburger-menu-content">
            <!-- Hamburger-Menü-Links werden per JavaScript hinzugefügt -->
        </div>

        <div class="content">
            <div class="logo">
                <img src="/static/images/CaravanPi-Logo.png" alt="CaravanPi Logo" class="logo">
            </div>
            <hr>

            <h1>Dimensionen des Fahrzeugs</h1>
            <p>Bitte geben Sie die entsprechneden Werte an.</p>
            <p></p>

			<form class="caravanpi-form" method="post">
				<img src="/static/images/CaravanPiDimensionen.png" alt="Dimensionen CaravanPi" class="responsive" width="600" height="258">
				
				<!-- Erläuterung  -->
				<div class="row">
					<div>
						<p>
						<br/><br/><b>Abmessungen des Caravans</b><br/>
							Zur Errechnung der Abweichung vom Idealwert in cm werden die Dimensionen des Caravans benötigt. <br/>
							Bitte geben Sie hierbei immer die Werte bis zu den <b>Auflagepunkten der Stützen</b> an.
						</p>
					</div>
				</div>
				
				<!-- Länge über alles -->
				<div class="row">
					<div class="col-75">
						<label for="lengthOverAll">Länge über alles (in mm)</label>  
					</div>
					<div class="col-25">
						<input name="lengthOverAll" type="number" step="10" min="3000" value="{{ dimensions.get('lengthOverAll', '')}}" >
					</div>
				</div>

				<!-- Breite über alles -->
				<div class="row">
					<div class="col-75">
						<label for="widthOverAll">Breite über alles (in mm)</label>  
					</div>
					<div class="col-25">
						<input name="widthOverAll" type="number" step="10" min="1700" value="{{ dimensions.get('widthOverAll', '')}}" >
					</div>
				</div>

				<!-- Länge Aufbau -->
				<div class="row">
					<div class="col-75">
						<label for="lengthBody">Länge Aufbau (in mm)</label>  
					</div>
					<div class="col-25">
						<input name="lengthBody" type="number" step="10" min="2000" value="{{ dimensions.get('lengthBody', '')}}" >
					</div>
				</div>

				{% with messages = get_flashed_messages() %}
					{% if messages %}
						{% for message in messages %}
							<div class="flash-message">{{ message }}</div>
						{% endfor %}
					{% endif %}
				{% endwith %}

					<!-- Button -->
				<div class="row">
					<div class="button-container">
						<input type="submit" name="submit" value="Speichern" class="finish-button" onclick="hideAndShowMessage()">
						<input type="submit" name="cancel" value="Zurück" class="finish-button">
					</div>
				</div>
			</form>

            <p>&nbsp;</p>
            <p>&nbsp;</p>
            <p>Weitere Infos zum Projekt CaravanPi finden Sie auf der <a href="https://www.caravanpi.de">CaravanPi-Website</a> und auf <a href="https://github.com/spitzlbergerj/CaravanPi">github</a></p>
        </div>

        <div class="footer">
            <p>&copy; CaravanPi - Josef Spitzlberger - 2024</p>
        </div>
    </div>

    <script>
        function populateLinks(menu, includeHome) {
            var host = window.location.hostname;
            var port = window.location.port;

            var links = [
                { text: "Startseite", url: 'http://' + host + ':5000/', isExternal: false },
                { text: "Konfigurationswebsite", url: 'http://' + host + ':5000/configs', isExternal: false },
                { text: "Status-Überprüfungswebsite", url: 'http://' + host + ':5000/checks', isExternal: false },
                { text: "MagicMirror Konfiguration", url: 'http://' + host + ':8080/remote.html#main-menu', isExternal: true },
                { text: "MagicMirror Remote-Anzeige", url: 'http://' + host + ':8080', isExternal: true },
                { text: "Grafana Website", url: 'http://' + host + ':3000', isExternal: true },
                { text: "phpMyAdmin", url: 'http://' + host + '/phpmyadmin/', isExternal: true }
            ];

            if (!includeHome) {
                links.shift(); // Entfernt die Startseite, wenn includeHome false ist
            }

            links.forEach(function(link) {
                var a = document.createElement('a');
                a.href = link.url;
                a.textContent = link.text;
                if (link.isExternal) {
                    a.target = "_blank"; // Öffnet den Link in einem neuen Fenster/Tab
                }
                menu.appendChild(a);
            });
        }

       function toggleHamburgerMenu() {
            var menu = document.getElementById("hamburgerMenu");
            if (menu.style.display === "block") {
                menu.style.display = "none";
            } else {
                menu.style.display = "block";
            }
        }

        window.onload = function() {
            var hamburgerMenu = document.getElementById("hamburgerMenu");
            populateLinks(hamburgerMenu, true); // Hamburger-Menü mit Startseite
        };

		function hideAndShowMessage() {
			var message = document.querySelector('.flash-message');
			if (message) {
				message.style.display = 'none'; // Versteckt die Nachricht
				setTimeout(function() {
					message.style.display = 'block'; // Zeigt die Nachricht nach einer kurzen Verzögerung wieder an
				}, 500); // 500 Millisekunden Verzögerung
			}
		}
    </script>
</body>
</html>

